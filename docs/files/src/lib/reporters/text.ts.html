
  <!DOCTYPE html>
  <html>
    <head>
      <title>text.ts</title>
      <link href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" type="text/css" rel="stylesheet">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/mode/javascript/javascript.min.js" type="text/javascript" charset="utf-8"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.2/codemirror.min.css" type="text/css" rel="stylesheet">
<script src="../../../../assets/source-file.js" type="text/javascript" charset="utf-8"></script>
<link href="../../../../assets/source-file.css" type="text/css" rel="stylesheet">
    </head>
    <body>
    <div style="margin-top:3em" class="ui container"><h1 class="ui header"><a href="../../../../index.html">TypeScript coverage report</a></h1><table style="margin-top:2em" class="ui celled table"><thead class=""><tr class=""><th class="">Filename</th><th class="">Percent</th><th class="">Threshold</th><th class="">Total</th><th class="">Covered</th><th class="">Uncovered</th></tr></thead><tbody class=""><tr class="positive"><td class="">src/lib/reporters/text.ts</td><td class="">100.00%</td><td class="">90%</td><td class="">102</td><td class="">102</td><td class="">0</td></tr></tbody></table><textarea id="editor" readonly="" style="margin-top:3em">import Table, { Cell } from &quot;cli-table3&quot;;
import { CoverageData } from &quot;../getCoverage&quot;;
import chalk from &quot;chalk&quot;;

const coverageTable = new Table({
  chars: { mid: &quot;&quot;, &quot;left-mid&quot;: &quot;&quot;, &quot;mid-mid&quot;: &quot;&quot;, &quot;right-mid&quot;: &quot;&quot; },
  colAligns: [&quot;left&quot;, &quot;right&quot;, &quot;right&quot;, &quot;right&quot;, &quot;right&quot;],
  style: { &quot;padding-left&quot;: 1, &quot;padding-right&quot;: 1 }
});

const calculatePercantage = (correct: number, total: number): number =&gt; {
  if (total === 0) {
    return 100;
  }

  return (correct * 100) / total;
};

const calculatePercantageWithString = (
  correct: number,
  total: number
): string =&gt; {
  return `${calculatePercantage(correct, total).toFixed(2)}%`;
};

export const generate = (
  { fileCounts, percentage, total, covered, uncovered }: CoverageData,
  threshold: number
): string =&gt; {
  const headers = [
    &quot;filenames&quot; + chalk.gray(` (${fileCounts.size})`),
    &quot;percent&quot; + chalk.gray(` (${percentage.toFixed(2)}%)`),
    &quot;total&quot; + chalk.gray(` (${total})`),
    &quot;covered&quot; + chalk.gray(` (${covered})`),
    &quot;uncovered&quot; + chalk.gray(` (${uncovered})`)
  ];

  coverageTable.push(
    headers,
    headers.map(() =&gt; chalk.gray(&quot;---&quot;))
  );

  fileCounts.forEach(
    (
      {
        totalCount,
        correctCount
      }: { totalCount: number; correctCount: number },
      filename: string
    ) =&gt; {
      const colorCell = (cell: Cell): Cell =&gt; {
        const color =
          Math.floor(calculatePercantage(correctCount, totalCount)) &gt;= threshold
            ? chalk.green
            : chalk.red;
        if (typeof cell === &quot;object&quot; &amp;&amp; &quot;content&quot; in cell) {
          return { ...cell, content: color(cell.content) };
        }

        return color(cell);
      };

      coverageTable.push(
        [
          filename,
          calculatePercantageWithString(correctCount, totalCount),
          totalCount,
          correctCount,
          totalCount - correctCount
        ].map((val) =&gt; colorCell(val))
      );
    }
  );

  return &quot;&quot; + coverageTable;
};
</textarea><pre id="annotations" style="display:none">[]</pre></div>
    <p class="footer-text">TypeScript Coverage Report generated by <a href="https://github.com/plantain-00/type-coverage">type-coverage</a> and <a href="https://github.com/alexcanessa/typescript-coverage-report">typescript-coverage-report</a> at Mon, 12 Feb 2024 12:41:22 GMT</p>
    </body>
  </html>
  